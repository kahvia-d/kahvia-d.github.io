<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Kahvia's Home - 你站在桥上看风景，看风景人在楼上看你。</title><meta name="author" content="Kahvia"><meta name="copyright" content="Kahvia"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="喜欢夜晚透着微光的云，好像伸手就能够着。">
<meta property="og:type" content="website">
<meta property="og:title" content="Kahvia&#39;s Home">
<meta property="og:url" content="https://blog.kahvia.cn/page/2/index.html">
<meta property="og:site_name" content="Kahvia&#39;s Home">
<meta property="og:description" content="喜欢夜晚透着微光的云，好像伸手就能够着。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pics.kahvia.cn/img/-3bcd3471850258b1.jpg">
<meta property="article:author" content="Kahvia">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pics.kahvia.cn/img/-3bcd3471850258b1.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.kahvia.cn/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Kahvia\'s Home',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-01 20:05:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Kahvia's Home" type="application/atom+xml">
</head><body><link rel="stylesheet" href="/css/flash.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pics.kahvia.cn/img/-3bcd3471850258b1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Kahvia's Home</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Kahvia's Home</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/06/27/NodeJs.html" title="NodeJs使用"><img class="post_bg" src="https://pics.kahvia.cn/img/bus-cat-girl.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NodeJs使用"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/06/27/NodeJs.html" title="NodeJs使用">NodeJs使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-06-27T02:06:42.700Z" title="发表于 2023-06-27 10:06:42">2023-06-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9F%A5%E8%AF%86/">知识</a></span></div><div class="content">Commonjs和ECMAScript语法CommonjsNodejs中默认采用Commonjs语法。
模块导出格式如下。
1234//commonjs语法导出自定义模块module.exports = &#123;    setResHeader: setResHeader&#125;

模块导入格式如下。
12//引入自定义工具模块，只能使用路径let resHeaderUtil = require(&quot;./utils/resHeaderUtil&quot;)

ECMAScript比如vue这种框架，采用的就是ECMAScript语法。要使用这种语法，首先得在package.json中指出type的值。

When set to “module”, the type field allows a package to specify all .js files within are ES modules. If the “type” field is omitted or set to “commonjs”, all .js files are treated as Co ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/04/AssemblyLanguageWorks.html" title="汇编语言练习"><img class="post_bg" src="https://pics.kahvia.cn/img/少女与鲸云.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="汇编语言练习"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/04/AssemblyLanguageWorks.html" title="汇编语言练习">汇编语言练习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-04T08:05:54.790Z" title="发表于 2023-05-04 16:05:54">2023-05-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%BE%AE%E6%9C%BA-%E6%B1%87%E7%BC%96/">微机 汇编</a></span></div><div class="content">变量BUF3中存放着10个有符号的字节数据，编程将这10个数按从小到大排序。思路双指针排序。BP留在原地，SI不断移动，一旦发现比BP小的值，就把那个值和BP交换，SI从左往右走一轮可以使得BP所在位置的值最小。一轮走完再开一轮，BP向右移动一位，用以存放次小值，SI再去探险。如此循环。
代码12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758;变量BUF3中存放着10个有符号的字节数据，编程将这10个数按从小到大排序。DSEG SEGMENT    BUF3       DB 10,9,8,7,6,5,4,3,2,1    BUFFLENGTH DB $-BUF3DSEG ENDSSSEG SEGMENTSSEG ENDSCSEG SEGMENT                   ASSUME DS:DSEG,SS:SSEG,CS:CSEG    START:                            MOV  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/04/18/HTML-Study.html" title="前端练习1"><img class="post_bg" src="https://pics.kahvia.cn/img/龙猫.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端练习1"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/18/HTML-Study.html" title="前端练习1">前端练习1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-18T04:02:22.171Z" title="发表于 2023-04-18 12:02:22">2023-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E7%BB%83%E4%B9%A0/">前端练习</a></span></div><div class="content">代码HTML:
1234567891011121314151617181920&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;    &lt;title&gt;Button Anime&lt;/title&gt;    &lt;link rel=&quot;stylesheet&quot; href=&quot;button.css&quot;&gt;&lt;/head&gt;&lt;body&gt;    &lt;div class=&quot;btn&quot ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/03/14/FlutterAzList_fix.html" title="Flutter-AzListView"><img class="post_bg" src="https://w.wallhaven.cc/full/we/wallhaven-we5jlx.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flutter-AzListView"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/14/FlutterAzList_fix.html" title="Flutter-AzListView">Flutter-AzListView</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-14T06:43:52.459Z" title="发表于 2023-03-14 14:43:52">2023-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B0%8F%E9%97%AE%E9%A2%98/">小问题</a></span></div><div class="content">修复数据过少时跳转反弹修改源码中滚动代码如下所示。
1234567891011121314151617181920212223242526272829void _scrollTopIndex(String tag) &#123;  int index = _getIndex(tag);  int itemsCountOnScreen = itemPositionsListener.itemPositions.value.length;  if (index != -1) &#123;    //如果要跳转的条目后面的数据个数&lt;屏幕可容纳的数据个数,使用align属性去调整跳转    //条目在屏幕上的位置。align默认是0，即条目的头部top与可视部分上边缘对齐。    //计算正确的对齐位置，才能让它正常显示。    //if the the items&#x27;counts after the item you want to jump less than    //full screen items counts, use the align to justify th ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/05/NacosCluster.html" title="Nacos集群模式"><img class="post_bg" src="https://w.wallhaven.cc/full/zy/wallhaven-zy8yyo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nacos集群模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/05/NacosCluster.html" title="Nacos集群模式">Nacos集群模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-05T11:57:54.574Z" title="发表于 2023-01-05 19:57:54">2023-01-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9F%A5%E8%AF%86/">知识</a></span></div><div class="content">Nacos集群模式想要使用nacos的集群模式，就需要为其配置单独的数据库。

先在 mysql 数据库中创建数据库NacosDb ，再使用 conf 目录下的 nacos-mysql.sql 文件，创建相关表结构。文件如下所示。

12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815916016116216316 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/23/AndroidButtonBackground.html" title="Android button 修改背景颜色"><img class="post_bg" src="https://w.wallhaven.cc/full/we/wallhaven-weqxlr.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android button 修改背景颜色"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/23/AndroidButtonBackground.html" title="Android button 修改背景颜色">Android button 修改背景颜色</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-22T16:28:28.366Z" title="发表于 2022-12-23 00:28:28">2022-12-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9F%A5%E8%AF%86/">知识</a></span></div><div class="content"> 在 themes.xml 中，style的parent如下所示。
1&lt;style name=&quot;Theme.AndroidUiDesign&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;

这时候，app中按钮的背景颜色会是主题色，自己设置的背景色则会被主题色覆盖。
修改成下面这样子就可以正常显示自定义背景颜色了。
1&lt;style name=&quot;Theme.AndroidUiDesign&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar.Bridge&quot;&gt;

material design官方文档是这样解释的。

Bridge ThemesIf you cannot change your theme to inherit from a Material Components theme, you can inherit from a Material Compo ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/22/AndroidViewPager2.html" title="AndroidViewPager2"><img class="post_bg" src="https://w.wallhaven.cc/full/5g/wallhaven-5gwvz5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AndroidViewPager2"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/22/AndroidViewPager2.html" title="AndroidViewPager2">AndroidViewPager2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-22T15:53:20.762Z" title="发表于 2022-12-22 23:53:20">2022-12-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9F%A5%E8%AF%86/">知识</a></span></div><div class="content">What’s this ?​	ViewPager2，它可以用来制作可以滑动切换的小卡片。相当于Flutter里面的 PageView 。
使用方法​	在想要使用的地方加入 ViewPager2 节点，创建每一项子节点的布局文件，并实现 ViewPager2 的适配器 adaptor 。大体步骤和ListView 的使用差不多。
​	涉及到以下三个文件。activity_pages.xml, viewpager_item.xml, CardItem.java, ViewPagerAdaptor.java 。
123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;    xmlns:app=&quot;http: ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/15/HttpMixContent.html" title="MixContent"><img class="post_bg" src="https://w.wallhaven.cc/full/o5/wallhaven-o59gvl.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MixContent"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/15/HttpMixContent.html" title="MixContent">MixContent</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-15T05:41:40.429Z" title="发表于 2022-12-15 13:41:40">2022-12-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B0%8F%E9%97%AE%E9%A2%98/">小问题</a></span></div><div class="content">问题发生场景在本地测试前后端项目的时候一切正常。当我将前端项目和后端项目打包并部署到服务器后，前端项目无法正常访问后端接口。浏览器控制台报错为“已阻止混合内容”，即mix content。
经过百度得知，mix content 常在 https 页面访问 http 接口时发生。
由于我的服务器上的tomcat之前就已经配置过SSL证书，所以部署在那个 tomcat 中的项目资源都会以https的方式访问。但是我这个后端项目是spring boot项目，使用的是内置的tomcat，所以直接部署后启动的是 http 服务。我 https 的页面访问了我 http 的接口，就产生了错误。
解决方案
去除服务器上 tomcat 的SSL配置。（不合适）
为后端spring boot项目配置SSL证书。（目前适用于我）

方案实施
下载自己的SSL证书，将 jks 后缀的文件放在项目的 resource 目录下。
完善项目的配置文件，我这里用的是 yml 配置文件。

123456server:  port: xxxxx  ssl:    key-store: classpath:www.kah ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/11/29/MysqlUtf8mb4.html" title="Mysql-Uft8mb4"><img class="post_bg" src="https://w.wallhaven.cc/full/o5/wallhaven-o5dqq9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql-Uft8mb4"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/29/MysqlUtf8mb4.html" title="Mysql-Uft8mb4">Mysql-Uft8mb4</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-29T04:31:58.919Z" title="发表于 2022-11-29 12:31:58">2022-11-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9F%A5%E8%AF%86/">知识</a></span></div><div class="content">问题在使用MySQL数据库存储数据的时候，意外发现不能存储Emoji表情😄。经过百度查证得知，mysql默认的 utf8 是三个字节的，存储不了四个字节的生僻字或者Emoji表情。需要换成支持四个字节的 utf8mb4 ，也就是UTF-8 most byte 4 。
解决123456# 数据库更换字符集ALTER DATABASE AchatUserService CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci;# 表更换字符集ALTER TABLE friendship CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;# 需要改变的列进行更换字符集ALTER TABLE messages CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

仅仅这样是不够的。在建立数据库连接的地方，还需要指定UTF-8字符集。比如在Spring boot项目的配置文件中，指定数据库连接的 url 处。 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/19/FlutterVerticalText.html" title="Flutter-VerticalText"><img class="post_bg" src="https://w.wallhaven.cc/full/x6/wallhaven-x6128o.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flutter-VerticalText"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/19/FlutterVerticalText.html" title="Flutter-VerticalText">Flutter-VerticalText</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-19T06:35:27.432Z" title="发表于 2022-11-19 14:35:27">2022-11-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9F%A5%E8%AF%86/">知识</a></span></div><div class="content">需求今天有人问了我一个很有意思的问题：如何实现文字竖直排列，就像古诗词一样。
思路我首先想到的是使用 Container 组件嵌套 Text 组件，固定它的宽度，这样来实现一行一个文字。看起来就像竖直排列一样。但是它的文字垂直间距很显然不方便控制。
我便去 StackOverflow 上搜索了一番 vertical text。果然有所收获。有人提出，使用 Wrap 组件去实现这个功能。分割需要竖直排列的字符串为单个字，用 Text 组件包裹每个字，然后利用 Wrap 组件的 direction 使得这些 Text 列表垂直排列，排不下则往右边另起一列。
我自然是希望古诗一列一句的。所以就不用考虑超出换列，手动分割当然最好。既然使用不到 Wrap ，用各种 ListView 来展示上面的 Text 们也是可以的。
当然了，如果是显示的宋词，那一句太长也是有可能的，为了保险起见，我还是使用了Wrap做了超出处理。
如此一来，就可以着手实现了。封装一个用 Wrap 为核心的自定义组件，主要用于展示古诗的一句。我们拿到一个古诗后，可以将古诗按标点符号分割，分割后的句子用自定义的 Vertica ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pics.kahvia.cn/img/-3bcd3471850258b1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Kahvia</div><div class="author-info__description">喜欢夜晚透着微光的云，好像伸手就能够着。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/kahvia-d"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/02/29/TypeScript.html" title="TypeScript"><img src="https://pics.kahvia.cn/img/desert_cloud.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TypeScript"/></a><div class="content"><a class="title" href="/2024/02/29/TypeScript.html" title="TypeScript">TypeScript</a><time datetime="2024-02-29T05:43:41.729Z" title="发表于 2024-02-29 13:43:41">2024-02-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/29/Uniapp.html" title="uniapp知识点"><img src="https://pics.kahvia.cn/img/desert_cloud.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="uniapp知识点"/></a><div class="content"><a class="title" href="/2024/02/29/Uniapp.html" title="uniapp知识点">uniapp知识点</a><time datetime="2024-02-29T01:47:57.745Z" title="发表于 2024-02-29 09:47:57">2024-02-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/04/NpmMirrorManage.html" title="使用nrm管理npm镜像源"><img src="https://pics.kahvia.cn/img/desert_cloud.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用nrm管理npm镜像源"/></a><div class="content"><a class="title" href="/2024/02/04/NpmMirrorManage.html" title="使用nrm管理npm镜像源">使用nrm管理npm镜像源</a><time datetime="2024-02-04T09:58:19.119Z" title="发表于 2024-02-04 17:58:19">2024-02-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/15/AlgorithmAcBase1.html" title="基础算法"><img src="https://pics.kahvia.cn/img/Atri.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基础算法"/></a><div class="content"><a class="title" href="/2024/01/15/AlgorithmAcBase1.html" title="基础算法">基础算法</a><time datetime="2024-01-15T10:16:23.498Z" title="发表于 2024-01-15 18:16:23">2024-01-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/02/AlgorithmForGraduateTest.html" title="数据结构——基础问题"><img src="https://pics.kahvia.cn/img/train.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据结构——基础问题"/></a><div class="content"><a class="title" href="/2023/11/02/AlgorithmForGraduateTest.html" title="数据结构——基础问题">数据结构——基础问题</a><time datetime="2023-11-02T14:44:06.902Z" title="发表于 2023-11-02 22:44:06">2023-11-02</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/xxx/"><span class="card-category-list-name">xxx</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E7%BB%83%E4%B9%A0/"><span class="card-category-list-name">前端练习</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%9E%E8%B7%B5/"><span class="card-category-list-name">实践</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B0%8F%E5%B7%A5%E5%85%B7/"><span class="card-category-list-name">小工具</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B0%8F%E9%97%AE%E9%A2%98/"><span class="card-category-list-name">小问题</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"><span class="card-category-list-name">工具使用</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BE%AE%E6%9C%BA-%E6%B1%87%E7%BC%96/"><span class="card-category-list-name">微机 汇编</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%B5%8B%E8%AF%95/"><span class="card-category-list-name">测试</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Algorithm/" style="font-size: 1.23em; color: #999ea6">Algorithm</a> <a href="/tags/Android/" style="font-size: 1.37em; color: #99a4b2">Android</a> <a href="/tags/AssemblyLanguage/" style="font-size: 1.1em; color: #999">AssemblyLanguage</a> <a href="/tags/Dart/" style="font-size: 1.23em; color: #999ea6">Dart</a> <a href="/tags/Flutter/" style="font-size: 1.5em; color: #99a9bf">Flutter</a> <a href="/tags/Html-Css-JavaScript/" style="font-size: 1.1em; color: #999">Html Css JavaScript</a> <a href="/tags/Http/" style="font-size: 1.1em; color: #999">Http</a> <a href="/tags/MicroService/" style="font-size: 1.37em; color: #99a4b2">MicroService</a> <a href="/tags/Mysql/" style="font-size: 1.1em; color: #999">Mysql</a> <a href="/tags/OS/" style="font-size: 1.23em; color: #999ea6">OS</a> <a href="/tags/Python/" style="font-size: 1.1em; color: #999">Python</a> <a href="/tags/Springboot/" style="font-size: 1.1em; color: #999">Springboot</a> <a href="/tags/Unix/" style="font-size: 1.1em; color: #999">Unix</a> <a href="/tags/animejs/" style="font-size: 1.1em; color: #999">animejs</a> <a href="/tags/clion-cmake/" style="font-size: 1.1em; color: #999">clion cmake</a> <a href="/tags/echarts-vue3/" style="font-size: 1.1em; color: #999">echarts vue3</a> <a href="/tags/gitalk/" style="font-size: 1.1em; color: #999">gitalk</a> <a href="/tags/hexo/" style="font-size: 1.23em; color: #999ea6">hexo</a> <a href="/tags/html-element/" style="font-size: 1.1em; color: #999">html element</a> <a href="/tags/js/" style="font-size: 1.1em; color: #999">js</a> <a href="/tags/node-js/" style="font-size: 1.37em; color: #99a4b2">node.js</a> <a href="/tags/svg/" style="font-size: 1.1em; color: #999">svg</a> <a href="/tags/test/" style="font-size: 1.1em; color: #999">test</a> <a href="/tags/ts/" style="font-size: 1.1em; color: #999">ts</a> <a href="/tags/uniapp/" style="font-size: 1.1em; color: #999">uniapp</a> <a href="/tags/xxx/" style="font-size: 1.23em; color: #999ea6">xxx</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.1em; color: #999">操作系统</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">66</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-08-21T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-03-01T12:05:54.670Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Kahvia</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["你站在桥上看风景，看风景人在楼上看你。"],
      startDelay: 300,
      typeSpeed: 150,
      loop: false,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '你站在桥上看风景，看风景人在楼上看你。'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><div class="aplayer no-destroy" data-id="5397921394" data-server="netease" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = '60c25e0d2b3d4f7eb5a048de747bd84c';
  var gaud_map_key = 'ac3aabee087ca323e3e8c5e87fd90557';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279,28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://github.kahvia.cn/api?kahvia-d",['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'],'kahvia-d')
    }
  </script><!-- hexo injector body_end end --></body></html>